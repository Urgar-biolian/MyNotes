# 题目

### **例题2：航班预订统计**

**题目描述**
有 `n` 个航班，编号为 `1` 到 `n`。给定一个预订记录数组 `bookings`，其中 `bookings[i] = [i, j, k]` 表示从航班 `i` 到航班 `j` 每个航班都预订了 `k` 个座位。求每个航班的最终预订座位数。

**输入格式**

- 第一行：`n` 和 `m`，表示航班数量和预订记录数量。
- 接下来 `m` 行：每行三个整数 `i, j, k`，表示一条预订记录。

**输出格式**

- 输出一个长度为 `n` 的数组，表示每个航班的最终预订座位数。

**示例**
输入：

```
5 3
1 2 10
2 3 20
2 5 25
```

输出：

```
[10, 55, 45, 25, 25]
```

**参考代码**

```java
public class FlightBookings {
    public static void main(String[] args) {
        int n = 5;
        int m = 3;
        int[][] bookings = {{1, 2, 10}, {2, 3, 20}, {2, 5, 25}};

        int[] diff = new int[n + 1]; // 差分数组
        for (int[] booking : bookings) {
            int i = booking[0] - 1; // 转换为0-based索引
            int j = booking[1];     // 转换为0-based索引
            int k = booking[2];
            diff[i] += k;
            if (j < n) {
                diff[j] -= k;
            }
        }

        // 还原原数组
        int[] result = new int[n];
        result[0] = diff[0];
        for (int i = 1; i < n; i++) {
            result[i] = result[i - 1] + diff[i];
        }

        System.out.println(Arrays.toString(result)); // 输出 [10, 55, 45, 25, 25]
    }
}
```

![]